<!doctype html>
<html class="no-js" lang="zxx">
<head>
    <!-- Meta Tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Title -->
    <title>Relax & Play - Stress Relief Games</title>
    
    <!-- Favicon -->
    <link rel="icon" href="img/favicon.png">
    
    <!-- Include existing CSS files -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/responsive.css">

    <!-- Custom CSS for games section -->
    <style>
        .games-section {
            padding: 80px 0;
            background: #f9f9f9;
        }
        
        .game-card {
            background: #fff;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.4s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #1A76D1, #64B5F6);
            opacity: 0;
            transition: 0.4s;
            z-index: 1;
        }
        
        .game-card:hover::before {
            opacity: 0.1;
        }
        
        .game-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 15px 40px rgba(26,118,209,0.2);
        }
        
        .game-icon {
            font-size: 64px;
            color: #1A76D1;
            margin-bottom: 25px;
            transition: 0.4s;
        }
        
        .game-card:hover .game-icon {
            transform: scale(1.1);
            color: #0D47A1;
        }
        
        .game-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #2C2D3F;
        }
        
        .game-description {
            color: #666;
            margin-bottom: 25px;
            line-height: 1.6;
        }
        
        .play-btn {
            background: linear-gradient(45deg, #1A76D1, #64B5F6);
            color: #fff;
            padding: 12px 30px;
            border-radius: 25px;
            display: inline-block;
            transition: 0.4s;
            border: none;
            font-weight: 600;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }
        
        .play-btn:hover {
            background: linear-gradient(45deg, #0D47A1, #1A76D1);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(26,118,209,0.3);
        }

        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #1A76D1;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="header">
        <!-- Copy header from index.html -->
        <!-- ...existing code... -->
        <div class="main-menu">
            <nav class="navigation">
                <ul class="nav menu">
                    <li><a href="/">Home</a></li>
                    <li><a href="/mydata">My Data</a></li>
                    <li class="active"><a href="/relax.html">Relax & Games</a></li>
                    <li><a href="#">Services</a></li>
                    <li><a href="#">Blogs <i class="icofont-rounded-down"></i></a>
                        <ul class="dropdown">
                            <li><a href="blog-single.html">When You Let Go of Stress</a></li>
                        </ul>
                    </li>
                    <li><a href="contact.html">Contact Us</a></li>
                </ul>
            </nav>
        </div>
        <!-- ...rest of existing code... -->
    </header>

    <!-- Games Section -->
    <section class="games-section">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="section-title text-center">
                        <h2>Relax & Play: Stress Relief Games</h2>
                        <img src="img/section-img.png" alt="#">
                        <p>Take a break and reduce stress with these engaging therapeutic games</p>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <!-- Doodle Game Card -->
                <div class="col-lg-4 col-md-6 col-12">
                    <div class="game-card text-center">
                        <div class="game-icon">
                            <i class="icofont-pencil-alt-2"></i>
                        </div>
                        <h3 class="game-title">Doodle Therapy</h3>
                        <p class="game-description">Express yourself through free-form drawing. Let your creativity flow and release stress through art.</p>
                        <button class="play-btn" onclick="launchGame('doodle')">Start Drawing</button>
                    </div>
                </div>

                <!-- Puzzle Game Card -->
                <div class="col-lg-4 col-md-6 col-12">
                    <div class="game-card text-center">
                        <div class="game-icon">
                            <i class="icofont-puzzle"></i>
                        </div>
                        <h3 class="game-title">Calming Puzzles</h3>
                        <p class="game-description">Engage your mind with soothing puzzle challenges. Perfect for mindful focus and relaxation.</p>
                        <button class="play-btn" onclick="launchGame('puzzle')">Solve Puzzles</button>
                    </div>
                </div>

                <!-- Rhythm Game Card -->
                <div class="col-lg-4 col-md-6 col-12">
                    <div class="game-card text-center">
                        <div class="game-icon">
                            <i class="icofont-music-notes"></i>
                        </div>
                        <h3 class="game-title">Rhythm & Flow</h3>
                        <p class="game-description">Find your groove with this musical game. Let the rhythm guide you to tranquility.</p>
                        <button class="play-btn" onclick="launchGame('rhythm')">Play Music</button>
                    </div>
                </div>

                <!-- Breathing Exercise Game Card -->
                <div class="col-lg-4 col-md-6 col-12">
                    <div class="game-card text-center">
                        <div class="game-icon">
                            <i class="icofont-air"></i>
                        </div>
                        <h3 class="game-title">Breathing Exercise</h3>
                        <p class="game-description">Practice guided breathing techniques to reduce stress and anxiety. Simple yet effective relaxation method.</p>
                        <button class="play-btn" onclick="launchGame('breathing')">Start Breathing</button>
                    </div>
                </div>

                <!-- Lofi Music Visualizer Game Card -->
                <div class="col-lg-3 col-md-6 col-12">
                    <div class="game-card text-center">
                        <div class="game-icon">
                            <i class="icofont-air"></i>
                        </div>
                                <h3 class="game-title">Lofi Music Visualizer</h3>
                                <p class="game-description">Relax with calming lofi beats and mesmerizing visualizations</p>
                                <button class="play-btn"  onclick="launchGame('music')">Start</button>
                           
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Add loading overlay -->
    <div class="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Footer -->
    <footer id="footer" class="footer">
        <!-- Copy footer from index.html -->
        <!-- ...existing code... -->
    </footer>

    <!-- Include existing JS files -->
    <script src="js/jquery.min.js"></script>
    <!-- ...existing code... -->
    
    <!-- Replace the Game Launch Script section -->
    <script>
        const API_URL = 'http://localhost:5000';

        function launchGame(game) {
            // Visual feedback
            const button = document.querySelector(`[onclick="launchGame('${game}')"]`);
            const originalText = button.textContent;
            button.textContent = 'Launching...';

            // Make the request
            fetch(`${API_URL}/games/${game}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    console.log(`${game} game launched successfully`);
                    button.textContent = 'Launch Again';
                })
                .catch(error => {
                    console.error('Error:', error);
                    button.textContent = originalText;
                });
        }

        // Make game cards clickable
        document.querySelectorAll('.game-card').forEach(card => {
            card.addEventListener('click', (e) => {
                // Only trigger if not clicking the button directly
                if (!e.target.classList.contains('play-btn')) {
                    const gameType = card.querySelector('.play-btn').getAttribute('onclick').match(/'(.*?)'/)[1];
                    launchGame(gameType);
                }
            });
        });
    </script>

    <!-- ...existing code... -->
</body>
</html>
